{"id":"cBrr","dependencies":[{"name":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\package.json","includedInParent":true,"mtime":1607322923567},{"name":"react","loc":{"line":1,"column":38},"parent":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\src\\components\\Login\\LoginForm\\LoginForm.js","resolved":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\node_modules\\react\\index.js"},{"name":"@material-ui/core","loc":{"line":2,"column":37},"parent":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\src\\components\\Login\\LoginForm\\LoginForm.js","resolved":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\node_modules\\@material-ui\\core\\esm\\index.js"},{"name":"@material-ui/icons/Add","loc":{"line":3,"column":20},"parent":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\src\\components\\Login\\LoginForm\\LoginForm.js","resolved":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\node_modules\\@material-ui\\icons\\Add.js"},{"name":"react-loader-spinner","loc":{"line":4,"column":19},"parent":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\src\\components\\Login\\LoginForm\\LoginForm.js","resolved":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\node_modules\\react-loader-spinner\\index.js"},{"name":"axios","loc":{"line":5,"column":18},"parent":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\src\\components\\Login\\LoginForm\\LoginForm.js","resolved":"C:\\Users\\64210\\Documents\\Projects\\chat-app-client\\client\\node_modules\\axios\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=i(require(\"react\")),t=require(\"@material-ui/core\"),r=u(require(\"@material-ui/icons/Add\")),n=u(require(\"react-loader-spinner\")),a=u(require(\"axios\"));function u(e){return e&&e.__esModule?e:{default:e}}function o(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function l(e,t,r,n,a,u,o){try{var i=e[u](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var u=e.apply(t,r);function o(e){l(u,n,a,o,i,\"next\",e)}function i(e){l(u,n,a,o,i,\"throw\",e)}o(void 0)})}}function f(e,t){return v(e)||m(e,t)||d(e,t)||s()}function s(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function d(e,t){if(e){if(\"string\"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===r&&e.constructor&&(r=e.constructor.name),\"Map\"===r||\"Set\"===r?Array.from(e):\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,u=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,u=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw u}}return r}}function v(e){if(Array.isArray(e))return e}var y=function(u){var o=u.setUserDataForChat,i=f((0,e.useState)(!1),2),l=i[0],s=i[1],d=(0,e.useRef)(\"\"),p=(0,e.useRef)(\"\"),m=function(){var e=c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.post(\"http://localhost:5002/api/upload\",t);case 2:return e.abrupt(\"return\",e.sent);case 3:case\"end\":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(e,t){if(\"\"===e)return!1;if(void 0===t)o({user_name:e});else{s(!0);var r=new FormData;r.append(\"avatar\",t);try{m(r).then(function(t){o({user_name:e,user_avatar:t.data.user_avatar_url})}).catch(function(e){alert(e)}).finally(function(){return s(!1)})}catch(n){}}};return l?e.default.createElement(n.default,{type:\"ThreeDots\",color:\"#2BAD60\",height:100,width:100}):e.default.createElement(\"form\",{className:\"login-form\",autoComplete:\"off\"},e.default.createElement(t.TextField,{id:\"chat-username\",label:\"Enter Username\",margin:\"normal\",fullWidth:!0,rows:\"1\",inputRef:d,onKeyDown:function(e){\"Enter\"===e.key&&(e.preventDefault(),v(e.target.value,p.current.files[0]))}}),e.default.createElement(\"label\",null,e.default.createElement(\"input\",{style:{display:\"none\"},id:\"upload-avatar\",name:\"upload-avatar\",ref:p,type:\"file\",accept:\"image/x-png,image/gif,image/jpeg\"}),e.default.createElement(t.Fab,{color:\"secondary\",size:\"small\",component:\"span\",\"aria-label\":\"add\",variant:\"extended\"},e.default.createElement(r.default,null),\" Upload avatar\"),e.default.createElement(\"br\",null),e.default.createElement(\"br\",null)),e.default.createElement(t.Button,{variant:\"contained\",color:\"primary\",onClick:function(){v(d.current.value,p.current.files[0])}},\"Enter Chat\"))},h=y;exports.default=h;"},"sourceMaps":null,"error":null,"hash":"6f734e41c33beeefd35a0f819b8a4669","cacheData":{"env":{}}}